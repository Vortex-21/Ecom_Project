<% layout('layouts/boilerplate.ejs') -%>
<style>
  .details{
    margin-bottom:2rem;
  }
  .edit-form-container{
    border:3px solid rgb(246, 126, 126);
    margin-top:1rem;
    margin-bottom:1rem;
    margin-left:1rem;
    margin-right:1rem;
    border-radius:10px;
    width:fit-content;
  }
  .edit-form{
   padding:2rem;
  }

</style>
<body>

  <div class=" row edit-form-container">
    <h1>Edit Product Details</h1>
    <form
      action="/listings/<%=listing._id%>/update?_method=PUT"
      method="POST"
      novalidate
      class="needs-validation edit-form"
      enctype="multipart/form-data"
    >
      <div class="row details">
        <label for="name" class="form-label">Enter Name of the Product</label>
        <input
          class="form-control"
          type="text"
          id="name"
          name="listing[name]"
          value="<%=listing.name%>"
          required
        />

        <div class="valid-feedback">
            Looks Good!
          </div>
          <div class="invalid-feedback">
            Please Fill out this field.
          </div>
      </div>

      <div class="row details">
        <label for="image" class="form-label">Enter Image Url</label>
        <input
          class="form-control"
          type="file"
          id="image"
          name="listing[image]"
          
        />

        <div class="valid-feedback">
            Looks Good!
          </div>
          <div class="invalid-feedback">
            Please Fill out this field.
          </div>
      </div>

      <div class="row details">
        <label class="form-label" for="price">Enter price</label>
        <input
        type="number"
        id="price"
        name="listing[price]"
        value="<%=listing.price%>"
        class="form-control"
        required
        />

        <div class="valid-feedback">
            Looks Good!
        </div>
        <div class="invalid-feedback">
            Please Fill out this field.
        </div>

      </div>

      <div class="row details">
        <label class="form-label" for="description">Description</label>
        <textarea
          class="form-control"
          name="listing[description]"
          id="description"
          cols="30"
          rows="10"
        ><%=listing.description%></textarea
        >

        <div class="valid-feedback">
            Looks Good!
        </div>
        
      </div>

      <br />
      
      <button class="btn btn-outline-dark row">Submit</button>
    
    </form>
  </div>

  <script src="/js/validation.js"></script>
</body>
